"use strict";var couponForm={showForm:function(){jQuery(document.body).on("click",".woostify-coupon-modified .showcoupon",(function(o){o.preventDefault(),jQuery(this).hasClass("show")?(jQuery(this).removeClass("show"),jQuery(".woostify-coupon-modified .checkout_coupon").slideUp()):(jQuery(this).addClass("show"),jQuery(".woostify-coupon-modified .checkout_coupon").slideDown(),jQuery('.woostify-coupon-modified [name="coupon_code"]').focus())}))},submitForm:function(){jQuery(document.body).on("click",'.woostify-coupon-modified [name="apply_coupon"]','.woocommerce-form-coupon [name="apply_coupon"]',(function(){if("undefined"!=typeof wc_checkout_params){var o=jQuery(this).closest(".woocommerce-form-coupon");if(o.is(".processing"))return!1;o.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var e={security:wc_checkout_params.apply_coupon_nonce,coupon_code:o.find('[name="coupon_code"]').val()};return jQuery.ajax({type:"POST",url:wc_checkout_params.wc_ajax_url.toString().replace("%%endpoint%%","apply_coupon"),data:e,dataType:"html",success:function(c){jQuery(".woocommerce-error, .woocommerce-message").remove(),o.removeClass("processing").unblock(),console.log(c),jQuery(document.body).trigger("update_checkout",{update_shipping_method:!1}),c&&o.before(c),o.slideUp(),jQuery(document.body).trigger("applied_coupon_in_checkout",[e.coupon_code]),jQuery(document.body).trigger("update_checkout",{update_shipping_method:!1})}}),!1}}))}};document.addEventListener("DOMContentLoaded",(function(){"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/woostify-checkout-coupon-form.default",(function(){couponForm.showForm()}))})),couponForm.submitForm()}));