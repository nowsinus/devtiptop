"use strict";var woostifySliderPrice=function(){var e=jQuery(".price_slider:not(.ui-slider)");if(e.length){jQuery("input#min_price, input#max_price").hide(),jQuery(".price_slider, .price_label").show();var o=jQuery(".price_slider_amount #min_price").data("min"),t=jQuery(".price_slider_amount #max_price").data("max"),r=jQuery(".price_slider_amount").data("step")||1,n=jQuery(".price_slider_amount #min_price").val(),i=jQuery(".price_slider_amount #max_price").val();e.slider({range:!0,animate:!0,min:o,max:t,step:r,values:[n,i],create:function(){jQuery(".price_slider_amount #min_price").val(n),jQuery(".price_slider_amount #max_price").val(i),jQuery(document.body).trigger("price_slider_create",[n,i])},slide:function(e,o){jQuery("input#min_price").val(o.values[0]),jQuery("input#max_price").val(o.values[1]),jQuery(document.body).trigger("price_slider_slide",[o.values[0],o.values[1]])},change:function(e,o){jQuery(document.body).trigger("price_slider_change",[o.values[0],o.values[1]])}})}},woostifySortBy=function(){var e=document.querySelector(".woocommerce-ordering"),o=!!e&&e.querySelector(".orderby"),t=!!e&&(e.closest(".elementor-element")||e.closest(".e-element"));e&&o&&!t&&(jQuery(".woocommerce-ordering").on("submit",(function(e){e.preventDefault()})),e.insertAdjacentHTML("beforeend",'<button type="submit"></button>'),o.addEventListener("change",(function(){var o=e.querySelector('[type="submit"]');o&&(woostifyShopFilter(),o.click())})))},woostifySelectWoo=function(){document.querySelectorAll('[class*="dropdown_layered_nav_"]').forEach((function(e,o){var t=Array.from(e.classList).filter((function(e){return e.includes("dropdown_layered_nav_")})),r=!!t.length&&"."+t.join();if(r&&(jQuery(r).eq(o).on("change",(function(){var e=jQuery(this),o=e.val(),t=r.replace(".dropdown_layered_nav_",""),n=e.closest("form"),i=n?n.find('input[name="filter_'+t+'"]'):[];i.length&&(o=o&&o.includes(",")?o.join(","):o,i.val(o)),e.attr("multiple")||n.submit()})),jQuery().selectWoo)){var n=jQuery(r).eq(o).find("option:eq(0)"),i=n.length?n.html():"";jQuery(r).eq(o).selectWoo({placeholder:decodeURIComponent(i),minimumResultsForSearch:5,width:"100%",allowClear:!1})}}))},woostifyDropdownSelectCategory=function(){var e=document.querySelectorAll(".widget_product_categories .dropdown_product_cat");e.length&&e.forEach((function(e){e.addEventListener("change",(function(){var o=e.value.trim(),t=woostify_ajax_shop_filter.shop_url,r=woostify_ajax_shop_filter.home_url;o&&(t=r.includes("?")?r+"&product_cat="+o:r+"?product_cat="+o,location.href=t)}))}))},woostifyShopFilter=function(){var e=document.getElementById("secondary");if(e){var o=document.querySelectorAll('.woostify-clear-filter-item, .advanced-product-filter a, .woocommerce-widget-layered-nav a, .woocommerce-ordering [type="submit"], .widget.widget_price_filter [type="submit"], .woocommerce-product-search [type="submit"], .woocommerce-widget-layered-nav [type="submit"], .woocommerce-pagination a');if(o.length){var t=window.location;o.forEach((function(o){o.onclick=function(r){if(!document.body.classList.contains("single")&&!document.body.classList.contains("single-product")){r.preventDefault();var n=o.href,i=document.querySelector("ul.products"),c=i?i.offsetTop:0;if("submit"==o.type){var a=o.closest("form"),u=a?a.querySelectorAll("[name]"):[],l={},s=!1;if(u.length){if(u.forEach((function(e){var o=e.value.trim();"paged"!=e.name&&(o?l[e.name]=o:"search"==e.type&&(e.focus(),s=!0))})),s)return;var d=new URLSearchParams(l).toString();n=decodeURI(t.pathname+"?"+d)}}document.documentElement.classList.add("woostify-filter-updating");var m=new Request(n,{method:"GET",credentials:"same-origin",headers:new Headers({"Content-Type":"text/html"})});fetch(m).then((function(e){return e.text()})).then((function(o){var t=(new DOMParser).parseFromString(o,"text/html"),r=t.querySelector("#primary"),n=t.querySelector("#secondary"),i=!!r&&r.querySelector(".woocommerce-result-count"),c=!!r&&r.querySelector(".woocommerce-pagination"),a=document.getElementById("primary"),u=!!a&&a.querySelector(".woocommerce-result-count"),l=!!a&&a.querySelector(".woocommerce-pagination");a&&r&&(a.innerHTML=r.innerHTML),n&&(e.innerHTML=n.innerHTML),u&&i&&(u.innerHTML=i.innerHTML),l&&c&&(l.innerHTML=c.innerHTML)})).catch((function(e){console.log(e)})).finally((function(){history.pushState&&history.pushState(null,null,n),"function"==typeof woostifyQuickView&&woostifyQuickView(),"function"==typeof woostifySwatchList&&woostifySwatchList(),"function"==typeof woostifyFeaturedProduct&&woostifyFeaturedProduct(),"function"==typeof woostifyProductCategoriesAccordion&&woostifyProductCategoriesAccordion(),"function"==typeof woostifySidebarMobile&&woostifySidebarMobile(),"function"==typeof woostifyCountdownUrgency&&woostifyCountdownUrgency(),woostifyShopFilter(),woostifySliderPrice(),woostifySortBy(),woostifySelectWoo(),document.documentElement.classList.remove("woostify-filter-updating"),woostifyDropdownSelectCategory();let e=document.querySelectorAll("#secondary form.woocommerce-widget-layered-nav-dropdown");e.length&&e.forEach((function(e){let o=e.querySelector("select.woocommerce-widget-layered-nav-dropdown"),t=e.querySelector("input");o&&t&&o&&o.addEventListener("change",(function(){t.value=o.value,e.submit()}))})),o.classList.contains("page-numbers")&&i&&setTimeout((function(){window.scrollTo({top:c,left:0,behavior:"smooth"})}),100)}))}}}))}}};document.addEventListener("DOMContentLoaded",(function(){woostifySortBy(),woostifyShopFilter()}));