"use strict";const woostifyFilterDatePicker=function(){let dateRangeFilter=document.querySelector(".w-product-filter[data-type=date-range] .w-product-filter-inner");if(!dateRangeFilter)return;let options={mode:"dp-below"};"undefined"!=typeof woostify_datepicker_data&&(options.lang={},options.lang.months=woostify_datepicker_data.months,options.lang.days=woostify_datepicker_data.days,options.lang.today=woostify_datepicker_data.today,options.lang.clear=woostify_datepicker_data.clear,options.lang.close=woostify_datepicker_data.close);let field=dateRangeFilter.querySelectorAll(".w-filter-date-picker");for(let i=0,j=field.length;i<j;i++){let datePicker;if("object"===datePicker)return;datePicker=TinyDatePicker(field[i],options)}},woostifyToggleFilterHorizontal=function(){let item=document.querySelectorAll(".filter-area.filter-horizontal .w-product-filter .widget-title, .w-pro-smart-filter-layout-horizontal .elementor-widget-container .widget-title"),filter_item=document.querySelectorAll(".filter-area.filter-horizontal .w-product-filter, .w-pro-smart-filter-layout-horizontal .elementor-widget-container .w-product-filter");item.length&&item.forEach((function(el){el.onclick=function(){let curr_filter=el.parentNode;curr_filter.classList.contains("open")?curr_filter.classList.remove("open"):(filter_item.forEach((function(f_el){f_el.classList.remove("open")})),curr_filter.classList.add("open"))}}))},woostifyToggleFilter=function(){let item=document.querySelectorAll(".w-product-filter:not(.no-collapse) .widget-title");item.length&&item.forEach((function(el){let filter=el.closest(".w-product-filter"),title=el,filter_content=filter.querySelector(".w-product-filter-inner"),speed=300,filter_collapse=filter.getAttribute("data-collapse");filter.style.transitionDuration="300ms",filter.style.height=null===filter_collapse?title.getBoundingClientRect().height+filter_content.getBoundingClientRect().height+"px":title.getBoundingClientRect().height+"px",el.onclick=function(){let curr_filter=el.parentNode,curr_content=curr_filter.querySelector(".w-product-filter-inner"),curr_collapse;if(null===curr_filter.getAttribute("data-collapse")){curr_filter.classList.remove("is-opening"),curr_filter.classList.add("is-closing");let title_height=el.getBoundingClientRect().height;curr_filter.style.height=title_height+"px",setTimeout((function(){curr_filter.classList.contains("is-closing")&&curr_filter.setAttribute("data-collapse",""),curr_filter.classList.remove("is-closing")}),300)}else{curr_filter.classList.remove("is-closing"),curr_filter.classList.add("is-opening");let title_height=el.getBoundingClientRect().height;curr_filter.setAttribute("data-collapse","");let content_height=curr_content.getBoundingClientRect().height;curr_filter.removeAttribute("data-collapse"),curr_filter.style.height=title_height+content_height+"px",setTimeout((function(){curr_filter.classList.remove("is-opening")}),300)}}}))},woostifyToggleChildTerm=function(){let item=document.querySelectorAll('[data-type="checkbox"] .w-filter-item-depth');if(!item.length)return;item.forEach((function(el){let parent=el.previousElementSibling;if(!parent)return;let isVisible,icon,expandHtml='<span class="expand-btn">'+(el.classList.contains("visible")?woostify_product_filter.collapse_icon:woostify_product_filter.expand_icon)+"</span>";parent.insertAdjacentHTML("beforeend",expandHtml)}));let expandBtn=document.querySelectorAll('[data-type="checkbox"] .expand-btn');expandBtn.length&&expandBtn.forEach((function(btn){let filter_item_wrap=btn.closest(".w-filter-item-wrap");filter_item_wrap&&(filter_item_wrap.classList.add("is-parent-item"),btn.onclick=function(){btn.innerHTML=woostify_product_filter.expand_icon===btn.innerHTML?woostify_product_filter.collapse_icon:woostify_product_filter.expand_icon;let parentBtn=btn.closest(".w-filter-item-wrap");if(!parentBtn)return;let nextDepth=parentBtn.nextElementSibling;if(!nextDepth||!nextDepth.classList.contains("w-filter-item-depth"))return;nextDepth.classList.contains("visible")?nextDepth.classList.remove("visible"):nextDepth.classList.add("visible");let filter=btn.closest(".w-product-filter ");filter.style.height="auto";let filter_height=filter.getBoundingClientRect().height;filter.style.height=filter_height+"px"})}))},woostifyToggleSoftLimit=function(){let buttons=document.querySelectorAll(".w-product-filter .w-filter-toggle-btn");buttons.length&&buttons.forEach((function(btn){btn.onclick=function(){let overflow=btn.parentNode.querySelector(".w-filter-item-overflow");if(!overflow)return;let siblingBtn=btn.parentNode.querySelector(".w-filter-toggle-btn.w-filter-hidden");siblingBtn&&siblingBtn.classList.remove("w-filter-hidden"),btn.classList.add("w-filter-hidden"),overflow.classList.contains("w-filter-hidden")?overflow.classList.remove("w-filter-hidden"):overflow.classList.add("w-filter-hidden");let filter=btn.closest(".w-product-filter ");filter.style.height="auto";let filter_height=filter.getBoundingClientRect().height;filter.style.height=filter_height+"px"}}))},woostifyUpdateFilters=function(obj){for(let key in obj)Array.isArray(obj[key])&&!obj[key].length&&delete obj[key];if(!Object.keys(obj).length)return{};if(1===Object.keys(obj).length)void 0===obj.first_active_filter?obj.first_active_filter=Object.keys(obj)[0]:delete obj.first_active_filter;else{let firstActiveFilter=obj.first_active_filter;void 0!==firstActiveFilter&&void 0===obj[firstActiveFilter]&&delete obj.first_active_filter}return obj},woostifyBuildQueryString=function(obj){let source=woostify_product_filter.filters_url,keys=Object.keys(obj),output={};for(let i=0,j=keys.length;i<j;i++)void 0!==source[keys[i]]&&(output[source[keys[i]]]=obj[keys[i]]);return output},woostifyFilterQuickSearch=function(){let search=document.querySelectorAll(".w-filter-quick-search");search.length&&search.forEach((function(el){let items=el.parentNode.querySelectorAll(".w-filter-item-wrap");if(!items.length)return;let itemDisplay=function(){for(let i=0,j=items.length;i<j;i++){let name=items[i].querySelector(".w-filter-item-name");if(!name)continue;let filter=el.value.toUpperCase(),text;name.innerText.toUpperCase().includes(filter)?items[i].style.display="":items[i].style.display="none"}};itemDisplay(),el.addEventListener("input",itemDisplay)}))},mergeTooltips=function(slider,threshold,separator){var tooltips=slider.noUiSlider.getTooltips();tooltips.forEach((function(tooltip){tooltip.style.transition="none"})),slider.noUiSlider.on("update",(function(values,handle,unencoded,tap,positions){var mergeTooltip=slider.querySelector(".noUi-base .mergeTooltip");mergeTooltip||((mergeTooltip=document.createElement("div")).setAttribute("class","noUi-tooltip mergeTooltip"),mergeTooltip.style.visibility="hidden",slider.querySelector(".noUi-base").appendChild(mergeTooltip));var pools=[[]],poolPositions=[[]],poolValues=[[]],atPool=0,poolsLength;tooltips[0]&&(pools[0][0]=0,poolPositions[0][0]=positions[0],poolValues[0][0]=values[0]);for(var i=1,posLength=positions.length;i<posLength;i++){var rightTooltipRect=tooltips[i].getBoundingClientRect(),leftTooltipRect=tooltips[i-1].getBoundingClientRect();(!tooltips[i]||leftTooltipRect.right-rightTooltipRect.left+threshold<0)&&(pools[++atPool]=[],poolValues[atPool]=[],poolPositions[atPool]=[]),tooltips[i]&&(pools[atPool].push(i),poolValues[atPool].push(values[i]),poolPositions[atPool].push(positions[i]))}1>=pools.length?(pools.forEach((function(pool,poolIndex){var offset=(poolPositions[poolIndex][0]+poolPositions[poolIndex][1])/2,tooltipValues=poolValues[poolIndex].filter((v,i,a)=>a.indexOf(v)===i);mergeTooltip.innerHTML=tooltipValues.join(separator),mergeTooltip.style.visibility="visible",mergeTooltip.style.transform="translate(-50%, -44%)",mergeTooltip.style.left=offset+"%",mergeTooltip.style.transition="none"})),tooltips.forEach((function(tooltip){tooltip.style.visibility="hidden"}))):(mergeTooltip.style.visibility="hidden",tooltips.forEach((function(tooltip){tooltip.style.visibility="visible"})))}))},woostifyAjaxFilter=function(){let filter=document.querySelectorAll(".w-product-filter[data-type]"),content=document.querySelector(".w-result-filter");if(!filter.length||!content)return;let filterKey=document.querySelector(".w-filter-key"),products=content.querySelector(".products"),adminBar=document.getElementById("wpadminbar"),adminBarHeight=adminBar?adminBar.offsetHeight:0,dataFilter=Array.isArray(woostify_product_filter.active_params)?{}:woostify_product_filter.active_params,listFilter={},pagedVar=1,event=new CustomEvent("filtered",{detail:!0});filterKey&&woostify_product_filter.remove_key&&(filterKey.innerHTML=woostify_product_filter.remove_key);const productPagination=function(){let pagiList=content.querySelectorAll(".woocommerce-pagination .page-numbers a.page-numbers");if(pagiList.length)for(let p=0,g=pagiList.length;p<g;p++)pagiList[p].onclick=function(e){e.preventDefault();let currentItem=content.querySelector(".woocommerce-pagination .page-numbers .page-numbers.current"),prevItem=pagiList[p].classList.contains("prev"),nextItem=pagiList[p].classList.contains("next"),paged=1;prevItem&&currentItem&&(paged=Number(currentItem.innerText)-1),nextItem&&currentItem&&(paged=Number(currentItem.innerText)+1),prevItem||nextItem||(paged=Number(pagiList[p].innerText)),pagedVar=paged,document.body.dispatchEvent(new CustomEvent("filtered",{detail:!1}))}};productPagination();const filterData=function(dataFilter,event){let getFilter=document.querySelectorAll(".w-product-filter[data-type]");getFilter.length&&getFilter.forEach((function(fi){let type=fi.getAttribute("data-type"),filterId=fi.getAttribute("data-id"),tmpUniqId="tmp_"+filterId;switch(window[tmpUniqId]||(window[tmpUniqId]=void 0===dataFilter[filterId]?[]:dataFilter[filterId]),listFilter[filterId]=type,type){case"search":let searchField=fi.querySelector(".w-product-filter-text-field"),submitIcon=fi.querySelector(".w-product-filter-search-icon");if(!searchField||!submitIcon)return;searchField.onkeyup=function(e){13===e.keyCode&&submitIcon.click()},submitIcon.onclick=function(){let keyword=searchField.value.trim(),prevValue=searchField.getAttribute("data-value")||"";keyword&&prevValue!=keyword&&(searchField.setAttribute("data-value",keyword),dataFilter[filterId]=keyword,document.body.dispatchEvent(event))};break;case"date-range":let dateFrom=fi.querySelector("[data-from]"),dateTo=fi.querySelector("[data-to]"),dateSubmit=fi.querySelector(".w-filter-item-submit");if(!dateFrom||!dateTo||!dateSubmit)return;dateSubmit.onclick=function(){if(!dateFrom.value||!dateTo.value)return;let date=[];date[0]=dateFrom.value,date[1]=dateTo.value,dataFilter[filterId]=date,document.body.dispatchEvent(event)};break;case"rating":let star=fi.querySelectorAll(".w-filter-rating-item");if(!star.length)return;for(let i=0,j=star.length;i<j;i++)star[i].onclick=function(){if(star[i].classList.contains("selected"))return;let oldStar=fi.querySelector(".w-filter-rating-item.selected");oldStar&&oldStar.classList.remove("selected"),star[i].classList.add("selected"),dataFilter[filterId]=5-i,document.body.dispatchEvent(event)};break;case"sort-order":let sortOrderField=fi.querySelector(".w-product-filter-select-field.w-filter-ordering");if(!sortOrderField)return;sortOrderField.onchange=function(e){e.preventDefault(),dataFilter[filterId]=sortOrderField.value,document.body.dispatchEvent(event)};break;case"select":let selectField=fi.querySelector(".w-product-filter-select-field");if(!selectField)return;selectField.onchange=function(){dataFilter[filterId]=selectField.value,document.body.dispatchEvent(event)};break;case"radio":let radioField=fi.querySelectorAll('[type="radio"]');if(!radioField.length)return;for(let i=0,j=radioField.length;i<j;i++)radioField[i].onchange=function(){dataFilter[filterId]=radioField[i].parentNode.getAttribute("data-slug"),document.body.dispatchEvent(event)};break;case"range-slider":if(!fi)break;let rangeSliderSetup=fi.querySelector(".w-filter-range-slider");if(!rangeSliderSetup||rangeSliderSetup&&"object"==typeof fi.noUiSlider||rangeSliderSetup.classList.contains("noUi-target"))break;let rangeReset=fi.querySelector(".w-filter-range-slider-reset"),rangeStart,rangeValue,rangeOption={tooltips:!0,connect:!0,start:JSON.parse(rangeSliderSetup.getAttribute("data-start")),step:1,range:JSON.parse(rangeSliderSetup.getAttribute("data-range")),format:{from:function(value){return Math.round(value)},to:function(value){return Math.round(value)}}};const slider=noUiSlider.create(rangeSliderSetup,rangeOption);slider.on("change",(function(values,handle,unencoded,tap,positions,noUiSlider){dataFilter["range-slider"]=noUiSlider.options.range,dataFilter[filterId]=values,document.body.dispatchEvent(event)})),rangeReset&&(rangeReset.onclick=function(){let currentRange=rangeReset.previousElementSibling;if(!currentRange)return;let rangeUpper=currentRange.querySelector(".noUi-handle-upper");if(!rangeUpper)return;let rangeMin,rangeMax,resetValue=[Number(rangeUpper.getAttribute("aria-valuemin")||0),Number(rangeUpper.getAttribute("aria-valuemax")||0)];slider.set(resetValue),delete dataFilter[filterId],document.body.dispatchEvent(event)}),mergeTooltips(rangeSliderSetup,2," - ");break;case"check-range":let checkRangeInput=fi.querySelectorAll('[type="checkbox"]');if(!checkRangeInput.length)return;for(let i=0,j=checkRangeInput.length;i<j;i++)checkRangeInput[i].onclick=function(){let value=checkRangeInput[i].parentNode.getAttribute("data-value");window[tmpUniqId].includes(value)?window[tmpUniqId]=window[tmpUniqId].filter((function(item){return item!==value})):window[tmpUniqId].push(value),dataFilter[filterId]=window[tmpUniqId],document.body.dispatchEvent(event)};break;case"checkbox":let checkList=fi.querySelectorAll('[type="checkbox"]');if(!checkList.length)return;for(let i=0,j=checkList.length;i<j;i++)checkList[i].onclick=function(){let id=Number(checkList[i].parentNode.getAttribute("data-id")),slug=checkList[i].parentNode.getAttribute("data-slug");window[tmpUniqId].includes(slug)?window[tmpUniqId]=window[tmpUniqId].filter((function(item){return item!==slug})):window[tmpUniqId].push(slug),dataFilter[filterId]=window[tmpUniqId],document.body.dispatchEvent(event)};break;case"stock":let stockList=fi.querySelectorAll('[type="checkbox"]');if(!stockList.length)return;for(let i=0,j=stockList.length;i<j;i++)stockList[i].onclick=function(){let id=Number(stockList[i].parentNode.getAttribute("data-id")),slug=stockList[i].parentNode.getAttribute("data-slug");window[tmpUniqId].includes(slug)?window[tmpUniqId]=window[tmpUniqId].filter((function(item){return item!==slug})):window[tmpUniqId].push(slug),dataFilter[filterId]=window[tmpUniqId],document.body.dispatchEvent(event)};break;case"visual":let termId=fi.querySelectorAll(".w-filter-item");if(!termId.length)return;for(let i=0,j=termId.length;i<j;i++)termId[i].onclick=function(){let id=termId[i].getAttribute("data-slug");window[tmpUniqId].includes(id)?(window[tmpUniqId]=window[tmpUniqId].filter((function(item){return item!==id})),termId[i].classList.remove("selected")):(window[tmpUniqId].push(id),termId[i].classList.add("selected")),dataFilter[filterId]=window[tmpUniqId],document.body.dispatchEvent(event)}}}))};filterData(dataFilter,event);const clearFilterData=function(){let fedKey=filterKey?filterKey.querySelectorAll(".w-filter-key-remove"):[];if(fedKey.length)for(let f=0,s=fedKey.length;f<s;f++)fedKey[f].onclick=function(){let filteredId=fedKey[f].getAttribute("data-id"),filteredType=fedKey[f].getAttribute("data-type"),filteredValue=fedKey[f].getAttribute("data-value");if(filteredType){switch(filteredType){case"all":let props=Object.getOwnPropertyNames(dataFilter);for(let i=0,j=props.length;i<j;i++)delete dataFilter[props[i]];let queryStr=woostifyBuildQueryString(dataFilter),urlString=Object.fromEntries(new URLSearchParams(location.search));for(const k in queryStr)!queryStr[k].length&&k in urlString&&(delete urlString[k],delete queryStr[k]);let finalQuery={...urlString,...queryStr},finalQueryStr=new URLSearchParams(finalQuery).toString();Object.keys(dataFilter).length||(finalQueryStr=""),history.pushState&&history.pushState(null,null,finalQueryStr?"?"+finalQueryStr:window.location.pathname);let clearTml=fedKey[f].parentNode.querySelectorAll("[data-id]");clearTml.length&&clearTml.forEach((function(tmp){let tmpId=tmp.getAttribute("data-id");window["tmp_"+tmpId]&&(window["tmp_"+tmpId]=[])})),resetVisual(),resetSelectField(),resetSearchField(),resetRangeSlider(),resetDatePicker(),resetRating(),resetGeneralField(),resetOdering();break;case"sort-order":resetOdering(),delete dataFilter[filteredId];break;case"search":resetSearchField(),delete dataFilter[filteredId];break;case"date-range":resetDatePicker(),delete dataFilter[filteredId];break;case"check-range":if(!filteredValue)return;let checkRangeFiltered=window["tmp_"+filteredId];if(void 0!==checkRangeFiltered){let checkRangeValue=checkRangeFiltered.filter((function(checkr){return checkr!==filteredValue}));window["tmp_"+filteredId]=checkRangeValue,dataFilter[filteredId]=checkRangeValue;let checkedRangeInput=document.querySelector('.w-product-filter[data-id="'+filteredId+'"] [data-value="'+filteredValue+'"] [type="checkbox"]:checked');checkedRangeInput&&(checkedRangeInput.checked=!1)}break;case"range-slider":resetRangeSlider(),delete dataFilter[filteredId];break;case"rating":resetRating(),delete dataFilter[filteredId];break;case"select":let selectedField=document.querySelector('.w-product-filter[data-id="'+filteredId+'"] .w-product-filter-select-field');selectedField&&(selectedField.value=""),delete dataFilter[filteredId];case"radio":let selectedRadio=document.querySelector('.w-product-filter[data-id="'+filteredId+'"] [data-id="'+filteredValue+'"] [type="radio"]:checked');selectedRadio&&(selectedRadio.checked=!1),delete dataFilter[filteredId];break;case"checkbox":case"stock":case"visual":if(!filteredValue)return;let checkedBox=window["tmp_"+filteredId];if(void 0!==checkedBox){let checkboxValue=checkedBox.filter((function(checkr){return checkr!==filteredValue}));window["tmp_"+filteredId]=checkboxValue,dataFilter[filteredId]=checkboxValue;let queryStr=woostifyBuildQueryString(woostifyUpdateFilters(dataFilter)),urlString,finalQuery={...Object.fromEntries(new URLSearchParams(location.search)),...queryStr},finalQueryStr=new URLSearchParams(finalQuery).toString();Object.keys(dataFilter).length||(finalQueryStr=""),history.pushState&&history.pushState(null,null,finalQueryStr?"?"+finalQueryStr:window.location.pathname);let checkedBoxInput=document.querySelector('.w-product-filter[data-id="'+filteredId+'"] [data-id="'+filteredValue+'"] [type="checkbox"]:checked');checkedBoxInput&&(checkedBoxInput.checked=!1)}}document.body.dispatchEvent(event)}}};clearFilterData();const resetSelectField=function(){let element=document.querySelectorAll(".w-product-filter-select-field");element.length&&element.forEach((function(el){el.value=""}))},resetSearchField=function(){let element=document.querySelectorAll(".w-product-filter-text-field");element.length&&element.forEach((function(el){el.value=""}))},resetRangeSlider=function(){let element=document.querySelectorAll(".w-product-filter-type-range-slider");element.length&&element.forEach((function(el){"object"==typeof el.noUiSlider&&el.noUiSlider.set(el.noUiSlider.options.start)}))},resetDatePicker=function(){let datePickerField=document.querySelectorAll(".w-filter-date-picker");datePickerField.length&&datePickerField.forEach((function(el){el.value=""}))},resetRating=function(){let element=document.querySelector(".w-product-filter-type-rating .selected");element&&element.classList.remove("selected")},resetGeneralField=function(){let element=document.querySelectorAll('.w-product-filter-inner [type="checkbox"]:checked, .w-product-filter-inner [type="radio"]:checked');element.length&&element.forEach((function(el){el.checked=!1}))},resetVisual=function(){let visualSelected=document.querySelectorAll(".w-filter-item.selected");visualSelected.length&&visualSelected.forEach((function(vs){vs.classList.remove("selected")}))},resetOdering=function(){let filterOdering=document.querySelectorAll(".w-filter-ordering");filterOdering.length&&(filterOdering.value="")};document.body.addEventListener("filtered",(function(e){let bodyOffsetTop=document.body.getBoundingClientRect().top,contentOffsetTop=content.getBoundingClientRect().top,scrToTop=-1*bodyOffsetTop- -1*contentOffsetTop-adminBarHeight;contentOffsetTop<adminBarHeight&&window.scrollTo({top:scrToTop,behavior:"smooth"});let products=document.querySelector("ul.products");products&&!products.querySelector(".filter-loading")&&products.insertAdjacentHTML("beforeend",'<span class="filter-loading"></span>'),e.detail&&(pagedVar=1),document.body.classList.add("filter-updating");let queryStr=woostifyBuildQueryString(dataFilter),urlString=Object.fromEntries(new URLSearchParams(location.search));for(const k in queryStr)!queryStr[k].length&&k in urlString&&(delete urlString[k],delete queryStr[k]);let finalQuery={...urlString,...queryStr},finalQueryStr=new URLSearchParams(finalQuery).toString();history.pushState&&history.pushState(null,null,finalQueryStr?"?"+finalQueryStr:window.location.pathname);let args={action:"woostify_product_filter",ajax_nonce:woostify_product_filter.ajax_nonce,per_page:content.getAttribute("data-posts")||"",paged:pagedVar,term_id:woostify_product_filter.term_id,taxonomy:woostify_product_filter.taxonomy,list_filter:JSON.stringify(listFilter),search_param:urlString.s||"",data:JSON.stringify(woostifyUpdateFilters(dataFilter)),orderby:urlString.orderby||""};args=new URLSearchParams(args).toString();let request=new Request(woostify_product_filter.ajax_url+location.search,{method:"POST",body:args,credentials:"same-origin",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"})});fetch(request).then((function(res){if(200!==res.status)throw console.log("Status Code: "+res.status),res;return res.json()})).then((function(json){if(!json.success)return;let r=json.data,resultCount=content.querySelector(".woostify-sorting .woocommerce-result-count"),products=content.querySelector(".products"),pagination=content.querySelector(".woocommerce-pagination"),sidebar=document.querySelector(".shop-widget"),overlay=jQuery("#woostify-overlay"),html=jQuery("html"),orderingForm=jQuery("form.woocommerce-ordering");if(orderingForm.length&&r.ordering){var ordering=jQuery(r.ordering);orderingForm.find(":not(.orderby)").remove(),ordering.find("option").appendTo(orderingForm.find("select")),ordering.find("input").appendTo(orderingForm)}if(resultCount&&r.result_count&&(resultCount.innerHTML=r.result_count),products&&(products.innerHTML=r.content),pagination&&(r.pagination?pagination.innerHTML=r.pagination:pagination.innerHTML=""),filterKey&&(filterKey.innerHTML=r.filtered),r.template)for(let i in r.template){let item=r.template[i],filterId=item.id,filterType=item.type,dom,doc,filter=(new DOMParser).parseFromString(item.template,"text/html").querySelector(".w-product-filter"),selector=jQuery('.w-product-filter[data-type="'+filterType+'"][data-id="'+filterId+'"]');item.template?selector&&filter&&(selector.html(filter.innerHTML),filterData(dataFilter,event)):selector.innerHTML=""}woostifyToggleFilter(),woostifyToggleFilterHorizontal(),woostifyToggleChildTerm(),woostifyToggleSoftLimit(),woostifyFilterQuickSearch(),woostifySwatchList(),sidebar&&sidebar.classList.remove("active"),overlay.removeClass("active"),html.removeClass("sidebar-mobile-open");var path=window.location.href,urlParams,paramPage=new URLSearchParams(window.location.search).get("paged");path.includes("?")?path.includes("paged=")&&pagedVar!=paramPage?path=path.replace("paged="+paramPage,"paged="+pagedVar):path+="&paged="+pagedVar:path+="?paged="+pagedVar,history.pushState(null,"",path)})).catch((function(err){console.log(err)})).finally((function(){var spfPath;(document.body.classList.remove("filter-updating"),clearFilterData(),productPagination(),"function"==typeof woostifyInfiniteScroll)&&(void 0!==window.infScroll&&(window.infScroll.destroy(),woostifyInfiniteScroll(!1,(function(){let curr_host_name=window.location.hostname,curr_protocol=window.location.protocol,curr_path_name=window.location.pathname,page=this.loadCount+2,curr_query=window.location.search.substring(1),regex=/(page\/)[0-9]+/,path;return curr_path_name.match(regex)||(curr_path_name=curr_path_name+"page/"+page),""===curr_query?curr_protocol+"//"+curr_host_name+curr_path_name+"/":curr_protocol+"//"+curr_host_name+curr_path_name+"/?"+curr_query}))));"function"==typeof woostifyQuickView&&woostifyQuickView(),woostifyFilterDatePicker()}))}))},woostifyFilterOrdering=function(){let wcForm=document.querySelector("form.woocommerce-ordering"),wcOrder=!!wcForm&&wcForm.querySelector("select.orderby"),filterOrder=document.querySelector("select.w-filter-ordering");if(!wcOrder||!filterOrder)return;let event=new CustomEvent("change");wcOrder.addEventListener("change",(function(e){e.preventDefault(),filterOrder.value=wcOrder.value,filterOrder.dispatchEvent(event)})),jQuery(".woocommerce-ordering").on("submit",(function(e){e.preventDefault()}))};document.addEventListener("DOMContentLoaded",(function(){woostifyAjaxFilter(),woostifyFilterDatePicker(),woostifyToggleFilter(),woostifyToggleFilterHorizontal(),woostifyToggleChildTerm(),woostifyToggleSoftLimit(),woostifyFilterQuickSearch(),woostifyFilterOrdering(),window.addEventListener("click",(function(e){var filters=document.querySelectorAll(".filter-area.filter-horizontal .w-product-filter, .w-pro-smart-filter-layout-horizontal .elementor-widget-container .w-product-filter");if(!filters.length||filters.length<1)return!1;filters.forEach((function(el){el.contains(e.target)||el.classList.remove("open")}))})),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/woostify-filter-date-range.default",(function(){woostifyFilterDatePicker()})),window.elementorFrontend.hooks.addAction("frontend/element_ready/woostify-filter-range-slider.default",(function(){let rangeSlider=document.querySelectorAll(".w-product-filter-type-range-slider");rangeSlider.length&&rangeSlider.forEach((function(rs){if("object"==typeof rs.noUiSlider)return;let from=Number(rs.getAttribute("data-from"))||0,to=Number(rs.getAttribute("data-to"))||100;const slider=noUiSlider.create(rs,{tooltips:!0,connect:!0,start:[from,to],step:1,range:{min:from,max:to},format:{from:function(value){return Math.round(value)},to:function(value){return Math.round(value)}}})}))}))}))}));